// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model tblUsuario {
  idUser String  @id 
  password String
  nombre String
  apellido String
  telefono String
  correo String
}

model tblAdmin {
  idAdmin Int @id @default(autoincrement())
  idUser String
  tblUsuario  tblUsuario  @relation(fields: [idUser], references: [idUser])
}

model tblEstacion {
  id             Int    @id @default(autoincrement())
  codigoEstacion String @unique
  nombreEstacion String
  latitud        Float
  longitud       Float
  altitud        Float
  suelo          String
  omm            String
}

model TblVarible {
  idVariable Int  @id @default(autoincrement()) 
  nombre String
  unidad String   
  maximo Int
  minimo Int
  tipoDato Int
}

model tblHorario {
  idHorario Int @id @default(autoincrement())
  tipoHora String
  hora DateTime
}


model tblObeservador {
  idObservador Int @id @default(autoincrement())
  idUser String
  idObsJefe Int
  idEstacion Int
  tblUsuario  tblUsuario  @relation(fields: [idUser], references: [idUser])
}


model tblImagenes {
  idImagenes Int @id
  idEstacion Int
  descripcion String?
  img String?
  tblEstacion  tblEstacion  @relation(fields: [idEstacion], references: [id])
} 

model tblRegistro {
 idValor Int @id @default(autoincrement())
 idPlantilla Int
 valor String
 iseditable Boolean 
 fecha DateTime 
 lat Float
 lon Float
 tblVariblePorEstacion  tblVariblePorEstacion  @relation(fields: [idPlantilla], references: [idItem])
}

model tblVariblePorEstacion {
  idItem Int @id @default(autoincrement())
  idEstacion Float
  idVariable Int
  idHorario Int
  enabled Boolean
}