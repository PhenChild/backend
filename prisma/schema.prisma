// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model tblAdmin {
  idUser String  @id 
  password String
  nombre String
  apellido String
  telefono String
  correo String
}

model tblEstacion {
  id             Int    @id @default(autoincrement())
  codigoEstacion String @unique
  nombreEstacion String
  latitud        Float
  longitud       Float
  altitud        Float
  suelo          String
  omm            String
}

model tblVariable {
  idVariable Int  @id @default(autoincrement()) 
  nombre String
  unidad String   
  maximo Int
  minimo Int
  tipoDato Int
}

model tblHorario {
  idHorario Int @id @default(autoincrement())
  tipoHora String
  hora DateTime
}


model tblObeservador {
  idUser String  @id 
  password String
  nombre String
  apellido String
  telefono String
  correo String
  idObsJefe String
  idEstacion Int
  tblEstacion  tblEstacion  @relation(fields: [idEstacion], references: [id])
}


model tblImagenes {
  idImagenes Int @id
  idEstacion Int
  descripcion String?
  img String?
  tblEstacion  tblEstacion  @relation(fields: [idEstacion], references: [id])
} 

model tblRegistro {
 idValor Int @id @default(autoincrement())
 idPlantilla Int
 valor String
 iseditable Boolean 
 fecha DateTime 
 lat Float
 lon Float
 tblVariblePorEstacion  tblVariablePorEstacion  @relation(fields: [idPlantilla], references: [idItem])
}

model tblVariablePorEstacion {
  idItem Int @id @default(autoincrement())
  idEstacion Int
  idVariable Int
  idHorario Int
  enabled Boolean
  tblHorario  tblHorario  @relation(fields: [idHorario], references: [idHorario])
  tblVarible  tblVariable  @relation(fields: [idVariable], references: [idVariable])
  tblEstacion  tblEstacion  @relation(fields: [idEstacion], references: [id])
}